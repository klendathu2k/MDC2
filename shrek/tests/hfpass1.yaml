# Specifies a unique name for the job, used as prefix for all system environment variables
jobname: g4charm

# Extra panda flags (such as number of jobs to run)
extra_panda_args: --nJobs 5

# sPHENIX software build level
build: mdc2.7
nevents: 100
type: Charm
outfile: TestSubmission 
outdir: /sphenix/user/sphnxpro/shrek/pass1/out
logdir: /sphenix/user/sphnxpro/shrek/pass1/log
jobdir: /sphenix/u/jwebb2/work/2022/SHREK/MDC2

runnumber: 1234567890

# Commands to stage files required to run the code
stagecmd: |-
  ln -s /sphenix/u/jwebb2/work/2022/SHREK/MDC2/submit/HF_pp200_signal/pass1/rundir/* .

# Command block
commands: |-
  echo execute a predefined script
  # ...
  echo or any arbitrary set of unix commands...
  # e.g. root.exe -q -b Fun4All.C
  # ...
  # ... Fun4All_G4_HF_pp_signal.C
  # ... G4Hits_%s-%010d-%05d.root
  # 

  nevents=$g4charm_nevents
  runnumber=$( printf "%010d" $g4charm_runnum )
  seqnumber=$( printf "%05d"  $g4charm_seqnum )
  outputdir="."
  filename=G4Hits-${g4charm_type}-${runnumber}-${seqnumber}.root

  echo  root.exe -q -b Fun4All_G4_HF_pp_signal.C\($nevents,\"${g4charm_type}\",\"$filename\",\"\",0,\"$outputdir\"\)
  

# Copy back block
copyback: |-
  ls > g4charm.manifest
  cp g4charm.manifest $g4charm_logdir/g4charm_${g4charm_seqnum}.manifest

  
